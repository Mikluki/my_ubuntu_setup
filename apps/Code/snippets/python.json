{
    "save arrays via pandas to csv": {
    "prefix": "csv_save_pandas",
    "body": [
        "def arrays_2_csv(a, b, c):",
        "",
        "    def get_var_name(var):",
        "        for name, value in globals().items():",
        "            if value is var:",
        "                return name",
        "        return None",
        "",
        "    df = pd.DataFrame(",
        "        {get_var_name(a): a, get_var_name(b): b, get_var_name(c): c}",
        "    )",
        "    df.to_csv(\"data.csv\", index=False)"
    ],
    "description": "save arrays via pandas to csv"
    },

    "csv swap separator": {
        "prefix": "csv_readlines_swap",
        "body": [
            "def get_var_name(var):",
            "    for name, value in globals().items():",
            "        if value is var:",
            "            return name",
            "    return None",
            "",
            "",
            "def arrays_2_csv(my_dict, csv_name=\"data.csv\"):",
            "    df = pd.DataFrame(",
            "        my_dict",
            "    )",
            "    df.to_csv(csv_name, index=False)",
            "",
            "",
            "def split_strip(line, where_):",
            "    return float(line.strip().split()[where_])",
            "",
            "",
            "filepath = \"360_far_field_3D.txt\"",
            "skip = 2",
            "with open(filepath) as f:",
            "    lines = f.readlines()",
            "    theta_deg = [split_strip(s, 0) for s in lines[skip:]]",
            "    phi_deg = [split_strip(s, 1) for s in lines[skip:]]",
            "    abs_gain_dbi = [split_strip(s, 2) for s in lines[skip:]]",
            "",
            "    abs_left_dBi = [split_strip(s, 3) for s in lines[skip:]]",
            "    phase_left_deg = [split_strip(s, 4) for s in lines[skip:]]",
            "",
            "    abs_right_dBi = [split_strip(s, 5) for s in lines[skip:]]",
            "    phase_right_deg = [split_strip(s, 6) for s in lines[skip:]]",
            "    ax_ratio_dB = [split_strip(s, 7) for s in lines[skip:]]",
            "",
            "data_columns = [",
            "    theta_deg,",
            "    phi_deg,",
            "    abs_gain_dbi,",
            "    abs_left_dBi,",
            "    phase_left_deg,",
            "    abs_right_dBi,",
            "    phase_right_deg,",
            "    ax_ratio_dB,",
            "]",
            "",
            "my_dict = {get_var_name(elem): elem for elem in data_columns}",
            "arrays_2_csv(my_dict)"
        ],
        "description": "csv swap separator"
    },
}
